const woorden = ['hyper','goose','mania','realm','eject','blunt','bylaw','inter','petal','crane','libel','patch','novel','scowl','shoal','villa','donor','shrew','bossy','touch','prune','oddly','shunt','hatch','gloom','pagan','filth','swarm','cried','cushy','bagel','birch','sooty','bunny','extra','exalt','scald','drank','kayak','guard','stomp','break','pivot','droop','vowel','field','tally','slosh','hitch','screw','album','paler','cocoa','trash','skulk','swoon','pygmy','swath','hater','sight','staid','flout','piano','satyr','myrrh','crazy','farce','score','lapel','lower','sigma','leant','chili','weigh','magma','anger','credo','caput','urine','aphid','blaze','sperm','guest','meant','verse','chide','wring','greed','undid','prank','glory','detox','spell','hedge','gaudy','spent','llama','mercy','steel','toxin','munch','blown','crown','terra','wispy','blood','plank','being','creak','silly','roomy','dryer','golly','unzip','tonga','arbor','begat','tease','sweet','giddy','lithe','pearl','saner','flora','steer','morph','tiara','foray','joint','cavil','bloat','adage','horny','flack','slink','anime','crave','frisk','broke','burnt','grope','moose','stair','junto','pushy','style','usurp','ideal','drain','ditty','scour','admit','spunk','crepe','split','shrub','catch','manor','happy','gloss','alone','midst','shiny','rapid','along','churn','sauce','agile','lefty','siege','picky','apathy','whirl','mason','booth','tread','token','blitz','splat','candy','wharf','smart','elegy','primo','image','cutie','gamer','slang','among','choke','plaza','bacon','depth','salvo','pitch','scope','stout','crass','hello','peach','spray','mouse','crypt','shade','shuck','never','polyp','dwelt','snore','stone','wiser','focus','shall','gaily','snowy','messy','grave','thorn','chaff','wince','newer','plate','glare','elfin','today','marry','condo','mummy','blurt','early','leave','ovary','soggy','gauze','ficus','dally','envoy','prone','party','upper','halve','latch','panel','crowd','whorl','nomad','blimp','attic','ralph','maybe','igloo','ranch','crick','blend','fruit','quail','phony','brand','circa','snuck','badge','aping','gorge','fewer','smote','serum','reign','radii','lurid','spiny','cadet','snipe','quash','trust','tulip','havoc','movie','delta','dorky','enemy','skate','cramp','poser','lunch','yield','crash','amass','bluer','olive','biome','heady','polka','giant','climb','eight','charm','clump','kitty','thyme','ethos','allow','agree','repel','rodeo','purse','diary','lorry','kiosk','spasm','pulse','timid','alpha','quill','overt','sever','blond','henna','afoot','caper','minor','swamp','scoop','stump','beard','fungi','acrid','lever','spoke','brief','asset','facet','cynic','lemur','space','wordy','masse','kudos','wrote','melon','weary','north','rebus','wheat','bayou','align','vault','tenor','helix','bring','pesto','bingo','blare','slimy','psalm','roost','canny','batty','sniff','coupe','winch','brink','dress','catty','redeem','mucky','range','craze','cable','proof','rifle','angle','butte','prick','elder','daily','slick','madly','minus','pried','broom','gaffe','groin','arena','forty','olden','foggy','elope','toast','remit','event','pride','niece','shine','ethic','fauna','gnat','breed','revue','parse','augur','droll','toxic','aider','adopt','amiss','birth','crock','spice','willy','gruel','three','acorn','curly','wreak','borax','youth','smith','bound','buyer','found','plied','shady','zonal','debit','fiber','rabid','solar','junta','ounce','water','linen','usual','honor','fraud','spurt','fleet','swore','axion','visor','scuba','tower','canon','brown','chirp','local','gulch','curio','adore','abase','laugh','gooey','nurse','chant','abode','fairy','royal','girly','kneel','sappy','optic','every','piety','clack','annoy','scion','dowel','ratty','quest','earth','snaky','swear','frame','guise','worry','chief','quilt','teeny','avert','shirk','snout','lying','warty','swish','jaunt','awake','filly','store','abhor','tithe','champ','torch','gassy','ruler','grasp','fixer','chuck','proxy','drier','great','bribe','rigid','radio','glide','tweet','logic','cacao','twist','bobby','bilge','ebony','young','which','spend','debug','until','liner','loamy','minty','cobra','title','staff','booze','opera','rinse','tweak','hazel','corny','decor','aglow','scarf','smoky','utter','empty','lilac','lanky','lance','alter','sloth','cinch','goner','horse','scone','layer','death','clank','wreck','spike','strap','edify','dunce','hippy','voila','sword','sloop','thick','debar','spate','baker','pause','prism','recut','patio','doubt','coyly','robot','essay','fetch','shied','gravy','riper','spool','repay','niche','endow','lingo','funny','cheer','penne','thing','clash','wrest','vaunt','witch','bread','plane','valid','quote','icing','claim','rerun','saint','exult','chord','organ','paste','snort','react','owing','atone','funky','arise','below','fjord','widen','husky','shale','pooch','reach','alley','loopy','spilt','boast','aback','fresh','third','tubal','glass','pizza','spark','caste','queer','tempo','vicar','tutor','sheik','sedan','brook','ocean','fault','rugby','woken','vigor','annul','judge','tangy','knead','limit','grout','ruddy','cumin','edict','girth','spawn','abuse','relax','poker','modal','showy','legal','lover','cheap','clear','spiel','hymen','irony','fiend','pasta','jiffy','ennui','bliss','putty','petty','chain','verve','taboo','mount','quota','spout','bushy','bused','merry','piney','blurb','locus','nobly','shush','squib','media','sling','eager','jumpy','unfed','proud','dirty','enter','droit','kneed','medic','stamp','whoop','bigot','noble','force','reset','twine','scent','basis','ridge','truly','gripe','yearn','noose','stead','audit','risky','tooth','filmy','lowly','strut','ferry','ingot','paddy','smash','coven','waist','allay','exert','truer','beret','midge','float','flown','eking','dream','radar','puffy','rebut','parry','stool','carol','bland','shaky','cello','wacky','grove','buggy','wield','favor','rebar','eying','troll','tough','build','notch','grade','grown','fudge','shake','grate','noise','saute','pique','speed','slump','lager','alias','nutty','tinge','angst','fluid','afire','small','corer','guide','brake','tryst','trove','hotel','flesh','scorn','drown','badly','drawn','fence','whelp','mimic','wrack','sugar','savor','roach','trope','laden','tabby','tiger','servo','offer','tonal','puppy','adobe','gawky','alloy','gauge','modem','seize','stern','hoard','outgo','spear','arson','dwarf','pixie','decoy','loner','inlet','toddy','buxom','amend','scamp','skunk','freed','whine','lumen','bleat','clang','daisy','embed','croak','aroma','alarm','clock','flask','grimy','enema','flunk','stack','stork','press','raven','guilt','donut','creme','inbox','login','hovel','armor','hutch','loser','dingo','poise','stale','cagey','rowdy','cleat','ivory','bison','child','swine','carry','inlay','dusty','mamma','large','copse','brush','hunch','maple','trial','ditto','spree','ardor','askew','dimly','abyss','plier','truth','cloth','mayor','woody','final','stiff','debut','thank','beech','stole','koala','avian','brain','floss','stood','udder','braid','cameo','power','scout','tonic','heist','graft','upset','draft','gaunt','leaky','noisy','moody','lymph','drunk','sleek','sweep','tidal','venom','world','grape','risen','porch','crime','smelt','yokel','torso','major','curve','satin','titan','crust','tenth','click','muddy','dodge','smile','harry','begin','steal','evict','zebra','adapt','madam','first','drawl','sneak','skull','labor','twang','pasty','shark','nicer','smirk','payer','steed','tinny','glint','actor','savvy','night','elate','older','sting','cover','stuff','spied','guile','hinge','viral','stink','cargo','medal','disco','opium','femur','visit','knock','black','grant','cream','rhino','lyric','model','zesty','undue','guava','prong','pinto','puree','liver','juicy','dizzy','senna','knell','crimp','recur','revel','scuff','dying','penny','where','tried','aside','lemon','perch','graph','eclat','polar','talon','decry','under','musty','baggy','banjo','crest','email','slope','payee','wrung','limbo','doing','scene','feast','worst','kinky','shear','cause','excel','gully','dryly','woozy','curse','ether','solid','nerdy','error','bloke','angel','sully','tacit','slide','brisk','turbo','downy','humid','enact','imply','senate','vital','ladle','usage','think','start','folly','squat','booby','class','sissy','steam','reply','scoff','finch','amity','gecko','vomit','straw','truss','comet','value','abled','mousy','hasty','surly','spite','apnea','pilot','table','canal','plush','verso','tapir','loyal','leper','lousy','loath','whiny','godly','enjoy','equal','curvy','waltz','cleft','stark','defer','graze','vouch','mural','fleck','bezel','gruff','paper','match','patty','probe','douse','livid','tract','study','filet','sheer','quack','bicep','banal','blast','untie','safer','trick','brine','crump','fugue','taint','witty','cabal','bleep','sharp','shawl','leash','seven','wound','shook','shrug','whale','women','fluff','snail','wooer','woman','stung','clamp','lobby','angry','heard','idyll','treat','heath','throb','atoll','light','sassy','spicy','ensue','hotly','chose','tepid','wafer','ulcer','rally','shape','often','grill','ninth','civil','frost','hyena','windy','coast','stage','round','grace','vapor','theme','cupid','uncle','alien','elect','brace','harpy','share','cider','daunt','silky','pudgy','juror','tribe','elude','pecan','whiff','ovine','wagon','weave','lapse','brass','green','duchy','tight','flour','vogue','drake','afoul','epoxy','plant','joist','rabbi','stare','spare','irate','inert','goofy','gazer','posit','hardy','voice','snare','swoop','eagle','ought','crept','fanny','mauve','chase','bully','eerie','slunk','regal','rotor','testy','jewel','trice','swirl','stove','taken','twixt','buddy','cacti','burly','while','evoke','broil','valet','gipsy','mangy','hilly','arose','welch','anvil','tipsy','siren','chick','spore','unity','cubic','rainy','rehab','wooly','blind','berry','mogul','motor','slack','phase','chart','haste','tepee','shift','abort','smell','wavy','spank','vigil','parer','alibi','frail','gnome','azure','dowry','fetid','rayon','elide','photo','shock','rarer','could','phone','shone','shown','trait','smock','hurry','rearm','scoot','leafy','erupt','borer','minim','singe','snide','stony','expel','spoil','raise','rocky','white','drove','trail','wimpy','wryly','stint','later','moist','axial','ledge','boney','emcee','scold','waxen','dairy','senda','taper','intro','belch','teddy','furor','delve','fiery','easel','pinch','teary','awash','grail','sewer','spade','sulky','teeth','wager','dread','ozone','viola','scale','snarl','bloom','roast','flake','leech','audio','rough','choir','metal','shore','nasty','floor','totem','melee','patsy','stops','quake','smog','dross','moldy','trawl','prude','mossy','finer','stein','waive','flash','month','gnash','colon','skimp','chock','mange','pedal','shire','leggy','drink','druid','court','haven','flock','crate','bowel','shame','sinew','fable','clasp','miner','swami','march','motif','quick','lurch','owner','cease','coral','stash','exact','unmet','utile','dense','larva','filer','cling','venue','snack','south','topic','onion','scrum','hippo','quite','stick','block','weird','basal','fuzzy','taker','crumb','mambo','threw','baler','epoch','habit','award','verge','slept','right','aunty','stilt','quiet','slush','tacky','shorn','prize','deter','suite','bless','state','growl','crush','manly','mover','biddy','fluke','neigh','ashen','prowl','rival','groan','hunky','nerve','yacht','algae','frock','speck','ankle','scary','scree','quasi','worth','amber','cabby','might','glyph','beast','howdy','couch','ember','queen','ready','shank','beset','curry','nosey','unite','forte','spelt','rebel','steak','altar','queue','eaten','oaken','slime','clown','sweat','kappa','mouth','plumb','front','refit','sense','briny','omega','ovate','plaid','group','gloat','reuse','refer','faint','slant','retry','flood','tango','gourd','sauna','idler','acute','hoist','aisle','tatty','carat','crier','palsy','blank','diver','false','manga','about','flush','suing','belie','cigar','sushi','fever','brawl','board','trump','sandy','sieve','troop','snoop','infer','moron','worse','brawn','gonad','fatal','denim','gouge','total','adult','thigh','basil','goody','vinyl','spoof','fatty','surge','fully','mango','devil','hydro','place','grunt','cheek','relay','coach','basin','going','level','civic','watch','tramp','beach','haunt','nadir','tibia','swept','brash','eater','karma','trite','ratio','pixel','drive','heavy','mirth','array','erect','gofer','alive','crony','synod','retch','flyer','peril','botch','grain','quirk','leery','lasso','rigor','vague','ample','bleed','hairy','dwell','handy','alike','globe','maxim','recap','tempt','tulle','chard','stray','vixen','pesky','frond','merge','billy','cedar','sepia','metro','ascot','entry','pansy','harem','aloof','octet','onset','smear','clone','slash','tawny','abate','freak','heart','hound','house','golem','quoth','sunny','ditch','drool','cyber','vivid','orbit','lodge','crisp','haute','lunar','tarot','scare','allot','drill','mocha','posse','craft','grind','plunk','comma','decal','aware','chump','dolly','sound','cloud','anode','aging','exist','flick','lathe','scram','whose','flare','drama','alert','trout','tuber','bleak','missy','deity','slung','uncut','shard','count','fancy','agent','forth','fling','scaly','prime','topaz','human','rogue','guess','merit','smack','fussy','comic','whisk','slurp','crook','dingy','peace','weedy','voter','smoke','quark','creep','dried','carve','bunch','prawn','dirge','money','trace','broad','foamy','dumpy','clout','diode','burst','dummy','shirt','humor','agony','magic','purge','gross','began','dodgy','mourn','digit','known','canoe','seedy','qualm','riser','tunic','razor','jerky','bathe','clerk','dopey','evade','musky','widow','caulk','foyer','pluck','inner','triad','flint','glaze','glean','sneer','snuff','gamut','vying','groom','throw','agate','sadly','these','thief','shaft','umbra','spine','usher','guppy','soapy','nylon','pithy','shell','slice','teach','spoon','gland','conic','conch','cough','homer','chime','cruel','pouty','china','woven','fifty','crone','trunk','surer','matey','papal','heron','fifth','lupus','stuck','flair','query','flaky','feline','clung','boost','drape','fight','knoll','maize','those','croup','plead','shalt','glade','sober','train','befit','extol','timer','dealt','joust','shove','urban','chute','crawl','aorta','salve','flirt','swift','sooth','privy','blink','flute','barge','await','egret','tense','brick','rumba','saucy','tamer','quart','hover','yummy','foist','frill','raspy','boxer','camel','fried','tweed','dandy','lucid','scant','print','resin','horde','mound','moult','pulpy','short','guild','track','antic','chasm','leach','suave','their','jazzy','focal','slyly','mince','begun','berth','humph','brood','natal','axiom','booty','cycle','covey','ghost','rouge','twice','paint','harsh','wedge','opine','chalk','bulge','pleat','odder','knife','unwed','glove','mammy','width','yeast','bench','creek','agape','elbow','rumor','waste','river','jolly','ahead','maker','assay','brave','mafia','prose','sheet','motto','affix','cloak','sonny','greet','dusky','parka','rusty','genre','datum','brunt','aloud','daddy','plump','croon','stand','milky','stalk','viper','feign','gummy','squad','cross','swung','steep','belle','yodel','bosom','mower','stoic','nymph','ionic','check','bongo','learn','towel','gamma','sumac','lofty','serif','sorry','baste','bawdy','amuse','liege','blame','wrath','prove','close','color','folio','input','demur','flame','lumpy','sally','wheel','nasal','mecca','tumor','beget','awoke','theta','built','comfy','bluff','naval','boozy','quint','shave','gusty','storm','ripen','itchy','gnaw','erase','spill','sport','rouse','binge','bevel','above','kebab','lipid','would','chest','duvet','spurn','elite','thumb','clued','apply','savoy','sower','waver','sleep','spook','forum','mealy','sixty','snake','inept','clink','awful','ghoul','bride','furry','order','micro','scalp','aloft','truce','manic','miser','loose','macaw','bulky','preen','hymn','given','drift','fishy','aptly','thong','shoot','basic','blade','story','blush','brute','flail','joker','dozen','naive','sheen','roger','vegan','route','budge','again','skier','delay','super','knack','beefy','grass','retro','salon','bitty','trend','idiot','wider','decay','plume','stank','salty','icily','tasty','bonus','chore','dully','stunt','wight','punch','salsa','index','swell','skill','sworn','dilly','plait','froze','relic','crank','flume','strip','pouch','batch','mulch','betel','whack','boule','dance','liken','segue','freer','serve','sonar','outdo','etude','depot','virus','adept','piper','erode','slain','lunge','tying','amble','grand','other','giver','shack','stake','write','atomic','cache','stave','sonic','gavel','pupil','bough','bravo','jelly','admin','vista','salad','chess','swing','twirl','vocal','knave','gleam','apart','unfit','otter','scrub','truck','friar','union','chunk','geese','khaki','flung','issue','outer','randy','ramen','torus','after','dogma','thump','vodka','tired','ovoid','deuce','derby','piece','welsh','whole','gumbo','jumbo','terse','anise','rupee','shout','taste','broth','chill','grime','grief','meter','swash','spire','wrong','exile','cluck','plain','cower','demon','abbey','creed','deign','lusty','renal','theft','swill','chaos','newly','least','stoop','video','lease','cheat','frank','stain','skiff','motel','amply','hefty','macro','heave','hobby','baton','tripe','argue','juice','caddy','sprig','unlit','scrap','meaty','moral','tenet','arrow','since','incur','sheep','spiky','rajah','slate','shelf','stock','abide','beady','feral','rover','unify','poppy','clean','holly','label','racer','ninja','avoid','drone','honey','dough','sixth','tilde','diner','skirt','cress','crack','rower','dicey','tardy','solve','baron','louse','annex','wrist','cabin','apron','stoke','ninny','artsy','pound','avail','fritz','faith','sleet','pinky','rural','balmy','cairn','cater','nudge','leapt','forge','ruder','crude','robin','rivet','panic','equip','covet','adorn','chair','speak','frown','valve','setup','humus','needy','marsh','price','flank','chafe','valor','thrum','rhyme','cliff','stall','trade','gusto','apple','amaze','froth','nanny','lucky','prior','stunk','forgo','dutch','idiom','molar','shyly','unset','borne','perky','piggy','there','flier','murky','taunt','smite','belly','rider','renew','hence','still','point','syrup','poesy','ester','ultra','quell','butch']

let moet_geraden_woord = woorden[Math.floor(Math.random() * woorden.length)].split("")


const alfabeth = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"]
console.log(moet_geraden_woord)

// zet op false als het spel gedaan is en kan zo geen keydown meer detecteren
let einde_spel = false

// css variables

let root = document.querySelector(':root')
let style = getComputedStyle(root)
let green_color = style.getPropertyValue("--green_color")
let yellow_color = style.getPropertyValue("--yellow_color")
let gray_color = style.getPropertyValue("--gray_color")


let my_spel = [
    ["", "", "", "", ""],
    ["", "", "", "", ""],
    ["", "", "", "", ""],
    ["", "", "", "", ""],
    ["", "", "", "", ""],
    ["", "", "", "", ""]
]

let rij = 0
let col = 0

let getyped_woord = my_spel[rij]

let count_hint = 0

window.onload = function(){
    voorbeeld_woorden()
    new_game_handler();
    eigen_woord_handler()

}

function eigen_woord_handler() {
    let submit_eigen_woord_button = document.getElementById("submit_eigen_woord")

    if (!submit_eigen_woord_button) {
        console.warn("Knop 'submit_eigen_woord' niet gevonden!");
        return;
    }

    submit_eigen_woord_button.addEventListener("click", () => {
        if (rij > 0) {
            alert("Je zit al in een spel")
            return;
        }
        let eigen_woord = document.getElementById("eigen_woord")
        if (eigen_woord.value.length !== 5) {
            alert("je eigen woord moet 5 letters bevatten")
            return;
        }
        if (eigen_woord.value !== "") {
            moet_geraden_woord = eigen_woord.value.toLowerCase().split("")
            woorden.push(eigen_woord.value.toLowerCase());
            console.log("Nieuw te raden woord:", moet_geraden_woord)
        }
    })
}

function teken_spel(spel) {
    let spel_html = genereer_spel_html(spel)
    document.getElementById("spelContainer").innerHTML = spel_html;
}

function genereer_spel_html(spel) {
    let inner_html = ""
    
    for (let i = 0; i < spel.length; i++) {
        let row_html = "<tr>"

        for (let j = 0; j < spel[i].length; j++) {
            row_html += "<td id='td_id" + i + "" + j + "'>" + spel[i][j] + "</td>";
        }
        row_html += "</tr>"
        inner_html += row_html
    }

    return "<table>" + inner_html + "</table>"
}

function typen(){
    if (typen._bound) return; // genAI gebruikt
    typen._bound = true;
    document.addEventListener("keydown", (event) => {
        if (einde_spel) return;
        if (rij >= my_spel.length) return;

        if (document.activeElement.tagName === "INPUT") return; // stackoverflow

        letter_gok()

        let key = event.key.toLowerCase();
        if (col >= 5 && key !== "enter" && key !== "backspace") return;

        if (key === "backspace") {
            event.preventDefault();
            if (col >= 1) {
                col --;
                my_spel[rij][col] = ""
                document.getElementById("td_id" + rij + col).innerText = ""
            }
            return;
        } 
        if (!alfabeth.includes(key) && key !== "enter") return;
        if (key === "enter") {
            event.preventDefault();
            if (col < 5) {
            alert("de gok moet 5 letters bevatten");
            return;
            } else {
                getyped_woord = my_spel[rij];
                if (woorden.includes(getyped_woord.join("")) === false) {
                    alert("Het woord dat je ingaf zit niet in onze woordenlijst")
                    return;
                }

                check_correct_char()
                check_woord_correct(my_spel)

                if (einde_spel) return;
                
                col = 0
                rij ++;
                verloren()
                
            } 
        } else  {
            
            my_spel[rij][col] = key
            document.getElementById("td_id" + rij + col).innerText = key
            col ++ 
            getyped_woord = my_spel[rij];
        } 
    } )   
}

function check_woord_correct(){
    
    console.log(getyped_woord)
    if (getyped_woord.join("") === moet_geraden_woord.join("")) {
        alert("ðŸŽ‰ Je hebt het woord geraden! je had " + (rij + 1) + " pogingen nodig. Hints gebruikt: " + count_hint);
        einde_spel = true
    }
}

function verloren() {
    if (einde_spel) return;
    if (rij >= my_spel.length) {
        einde_spel = true;
        alert("Je bent verloren! je hebt "+ count_hint + " gebruikt. Het correcte woord was: " + moet_geraden_woord.join(""))
    }
}

function check_correct_char() {
    let copy_moet_geraden_woord = moet_geraden_woord.slice()
    let copy_getyped_woord = getyped_woord.slice()

    for (let i = 0; i < copy_getyped_woord.length; i++) {
        if (copy_getyped_woord[i] === copy_moet_geraden_woord[i]) {  
            document.getElementById("td_id"+ "" + rij + "" + i).style.backgroundColor = green_color;
            copy_getyped_woord[i] = null;
            copy_moet_geraden_woord[i] = null;
            
        }
    }


    for (let i = 0; i < copy_getyped_woord.length; i++) {
        if (copy_getyped_woord[i] === null) continue;

        let index = copy_moet_geraden_woord.indexOf(copy_getyped_woord[i])

        if (index != -1) {
            document.getElementById("td_id"+ "" + rij + "" + i).style.backgroundColor = yellow_color;
            copy_moet_geraden_woord[index] = null
            
        } else {
            document.getElementById("td_id"+ "" + rij + "" + i).style.backgroundColor = gray_color;
        }
        
    }
}

function hint() {
    let button_hint = document.getElementById("button_hint")
    let text_hint = document.getElementById("text_hint")

    button_hint.addEventListener("click", () => {
        count_hint ++;

        if (rij == 0) {
            let hint = moet_geraden_woord[Math.floor(Math.random() * moet_geraden_woord.length)]
            text_hint.innerText = "De letter " + hint + " zit in het woord"
            return;
        }
        
        let al_gevonden_letters = []

        for (let i = 0; i < getyped_woord.length; i++) {
            let td = document.getElementById("td_id"+ "" + (rij - 1) + "" + i)
            if (!td) continue;
            if (td.style.backgroundColor.trim() === yellow_color.trim() || td.style.backgroundColor.trim() === green_color.trim()) {
                al_gevonden_letters.push(td.innerText.toLowerCase())
            } 
        }

        let mogelijke_hints = []

        for (let i = 0; i < moet_geraden_woord.length; i++) {
            if (al_gevonden_letters.includes(moet_geraden_woord[i]) === false) {
                mogelijke_hints.push(moet_geraden_woord[i])
            }
        }

        if (mogelijke_hints.length === 0) {
            mogelijke_hints = moet_geraden_woord;
        }


        let hint = mogelijke_hints[Math.floor(Math.random() * mogelijke_hints.length)];
        text_hint.innerText = "De letter " + hint + " zit in het woord"
        
    })
}

function herstart_handler() {
    console.log(moet_geraden_woord)
    let button_herstart = document.getElementById("button_herstart")

    button_herstart.addEventListener("click", () => {
        reset_spel()
    })
}

function reset_spel() {
    moet_geraden_woord = woorden[Math.floor(Math.random() * woorden.length)].split("")
        
        my_spel = [
            ["", "", "", "", ""],
            ["", "", "", "", ""],
            ["", "", "", "", ""],
            ["", "", "", "", ""],
            ["", "", "", "", ""],
            ["", "", "", "", ""]
        ]

        rij = 0;
        col = 0;

        einde_spel = false

        count_hint = 0;

        getyped_woord = my_spel[0];

        document.getElementById("text_hint").innerText = "";
        document.getElementById("letter_gok").innerText = "je zit aan je 1e gok";

        teken_spel(my_spel)
        
}

function letter_gok() {
    document.getElementById("letter_gok").innerHTML = "je zit aan je " + (rij + 1) + "de gok"
    console.log(rij)
}

function bevestigen_gok() {

    if (einde_spel || rij >= my_spel.length) {  // niet kunnen pushen
        return;
    }
    
    getyped_woord = my_spel[rij]
    if (getyped_woord.join("").length < 5) {
            alert("de gok moet 5 letters bevatten") 
            return;
    }

    if (woorden.includes(getyped_woord.join("")) === false) {
        alert("Het woord dat je ingaf zit niet in onze woordenlijst")
        return;
    }
        
    check_correct_char()
    check_woord_correct(my_spel)

    if (einde_spel) return;
    
    col = 0
    rij ++;

    verloren(my_spel)  
}

function voorbeeld_woorden() {

    
    let button_stops = document.getElementById("button_stops")
    let button_gooey = document.getElementById("button_gooey")
    let button_fifth = document.getElementById("button_fifth")

    button_fifth.addEventListener("click", () => {
        if (rij > 0 && einde_spel === false) {
            alert("Je zit al in een spel.")
            return; 
        }
        moet_geraden_woord = "fifth".split("");
    });

    button_gooey.addEventListener("click", () => {
        if (rij > 0 && einde_spel === false) {
            alert("Je zit al in een spel.")
            return; 
        }
        moet_geraden_woord = "gooey".split("");       
    });

    button_stops.addEventListener("click", () => {
        if (rij > 0 && einde_spel === false) {
            alert("Je zit al in een spel.")
            return; 
        }
        moet_geraden_woord = "stops".split("");   
    });
}


function new_game_handler() {
    teken_spel(my_spel)
    typen()
    herstart_handler()
    hint()
    const button_bevestig_gok = document.getElementById("bevestig_gok");
    button_bevestig_gok.addEventListener("click", () => bevestigen_gok());
}

